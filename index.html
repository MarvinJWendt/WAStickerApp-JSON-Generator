<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"/>
		<title>Convert Image names to JSON (WAStickerApp)</title>

		

		<style>
		pre { outline: 1px solid #ccc; padding: 5px; margin: 5px; }
			.string { color: green; }
			.number { color: darkorange; }
			.boolean { color: blue; }
			.null { color: magenta; }
			.key { color: red; }

		</style>

	</head>
	<body>
		<table>

			<tr>
				<td>Donate If you Love it &hearts; &hearts; &hearts; &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp</td>
				<td>
					<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
						<input type="hidden" name="cmd" value="_s-xclick">
						<input type="hidden" name="hosted_button_id" value="46Q5USNZNGKML">
						<input type="image" src="https://www.paypalobjects.com/webstatic/en_US/btn/btn_donate_pp_142x27.png" border="0" name="submit" alt="PayPal â€“ The safer, easier way to pay online!">
						<img alt="" border="0" src="https://www.paypalobjects.com/en_GB/i/scr/pixel.gif" width="1" height="1">
					</form>
				</td>
			<tr>	<td>&nbsp</td> </tr>
			</tr>
		</table>
		<h2>Enter details and Get your Sticker Pack JSON Ready &#128515 &#128515 &#128515</h2>
		<h5>(Your JSON will be display when you choose files.)</h5>
		<table>
			<tr>
				<td> Enter Folder Name (Identifier) : </td>
				<td> <input type="text" id="identifier" /> </td>
			</tr>
			<tr>
				<td> Enter Sticker Pack Name : </td>
				<td> <input type="text" id="name" />	</td>
			</tr>
			<tr>
				<td> Enter Publisher : </td>
				<td> <input type="text" id="publisher" /> </td>
			</tr>
			<tr>
				<td> Enter Tray Image (with .png) : </td>
				<td> <input type="text"  id="tray_image_file" /> </td>
			</tr>
			<tr>
				<td> Enter Publisher Email : </td>
				<td> <input type="text" id="publisher_email" /> </td>
			</tr>
			<tr>
				<td> Enter Publisher Website : </td>
				<td> <input type="text" id="publisher_website" /> </td>
			</tr>
			<tr>
				<td> Enter Privacy Policy URL : </td>
				<td> <input type="text" id="privacy_policy_website" /> </td>
			</tr>
			<tr>
				<td> Enter Licence Agreement Website : </td>
				<td> <input type="text" id="license_agreement_website" /> </td>
			</tr>
			<tr>
				<td> Select Images (Only .webp) : </td>
				<td> <input type="file" id="files" multiple accept=".webp" /> </td>
			</tr>
		</table>	
		<br>
		<br>
	
		<script>

			document.getElementById('files').addEventListener('change', function(e) {
				jsonObj = [];
				mainArray = {};
				mainArray.android_play_store_link = "";
				mainArray.ios_app_store_link = "";
				
				if (this.files.length>30){
					 alert("You can only upload a maximum of 30 files");
				} else {
				    	for (var i = 0; i < this.files.length; i++) {
					      	item = {};
					      	item ["image_file"] = this.files[i].name;
					      	item ["emoji"] = [];
		
					      	item ["emoji"].push("");
					      	item ["emoji"].push("");
		
						jsonObj.push(item);
	
				   	}
					mainArray["sticker_pack"] = [];
					innerValue = {};
					innerValue["identifier"] = document.getElementById('identifier').value;
					innerValue["name"] = document.getElementById('name').value;
					innerValue["publisher"] = document.getElementById('publisher').value;
					innerValue["tray_image_file"] = document.getElementById('tray_image_file').value;
					innerValue["publisher_email"] = document.getElementById('publisher_email').value;
					innerValue["publisher_website"] = document.getElementById('publisher_website').value;
					innerValue["privacy_policy_website"] = document.getElementById('privacy_policy_website').value;
					innerValue["license_agreement_website"] = document.getElementById('license_agreement_website').value;
					innerValue["stickers"] = [];
					innerValue["stickers"].push(jsonObj);
					mainArray["sticker_pack"].push(innerValue);
					
					
					output(syntaxHighlight(JSON.stringify(mainArray, undefined, 4)));
				}
			});

			function syntaxHighlight(json) {
			    	json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
				return json.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g, function (match) {
				var cls = 'number';
				if (/^"/.test(match)) {
				    if (/:$/.test(match)) {
					cls = 'key';
				    } else {
					cls = 'string';
				    }
				} else if (/true|false/.test(match)) {
				    cls = 'boolean';
				} else if (/null/.test(match)) {
				    cls = 'null';
				}
				return '<span class="' + cls + '">' + match + '</span>';
			    });
			}

			function output(inp) {
			    document.body.appendChild(document.createElement('pre')).innerHTML = inp;
			}

		</script>
	</body>	
</html>
